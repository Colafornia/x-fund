(this["webpackJsonpx-fund"]=this["webpackJsonpx-fund"]||[]).push([[0],{181:function(t,e,n){},277:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(28),i=n.n(c),o=(n(181),n(282)),u=n(284),s=n(131),l=n(18),d=n.n(l),f=n(26),j=n(22),b=n(25),p=n(83);var h=n(97),v=n(288),O=n(283),m=n(174),x=n(88),y=n(50),g=n(289),k=n(286),N=n(86),S=n(53),w=n(287),E=n(285),A=n(6);function D(t){var e=String(t.value).startsWith("-"),n=e?t.value:"+".concat(t.value);return Object(A.jsx)("span",{style:{color:e?"#3f8600":"#cf1322"},children:n})}var C=n(121),M=n(54),P=function(t){var e=t.y,n=void 0===e?"value":e,a=t.data;t.textMap,t.commonProp,t.legendProp;return Object(A.jsx)("div",{className:"fund-line-chart",children:Object(A.jsxs)(M.Chart,{scale:{date:{type:"timeCat",range:[0,1]},value:{type:"linear",formatter:function(t){return t+"%"},tickCount:6,nice:!0,lineDash:2}},padding:[30,20,60,40],autoFit:!0,height:320,width:700,data:a,children:[Object(A.jsx)(M.Line,{shape:"smooth",position:"date*value",color:["name",["#1890ff","#91d5ff","#faad14","#a0d911","#fa8c16","#13c2c2","#722ed1","#eb2f96","#bfbfbf","#fadb14"]],size:"2"}),Object(A.jsx)(M.Axis,{name:n,grid:{line:{style:{lineDash:[2,2]}}}}),Object(A.jsx)(M.Tooltip,{showCrosshairs:!0,shared:!0,crosshairs:{type:"x"}})]})})},T={Z:"\u8fd1\u4e00\u5468",Y:"\u8fd11\u6708","3Y":"\u8fd13\u6708","6Y":"\u8fd16\u6708","1N":"\u8fd11\u5e74","3N":"\u8fd13\u5e74","5N":"\u8fd1\u4e94\u5e74",JN:"\u4eca\u5e74\u6765",LN:"\u6210\u7acb\u6765"},J=[{label:"\u8fd11\u6708",value:"-30"},{label:"\u8fd13\u6708",value:"-90"},{label:"\u8fd16\u6708",value:""}],R=[{title:"\u8fd11\u5e74\u590f\u666e\u6bd4\u7387",key:"SHARP1",rank1:"SHARP_1NRANK",rank2:"SHARP_1NFSC"},{title:"\u8fd13\u5e74\u590f\u666e\u6bd4\u7387",key:"SHARP3",rank1:"SHARP_3NRANK",rank2:"SHARP_3NFSC"},{title:"\u8fd15\u5e74\u590f\u666e\u6bd4\u7387",key:"SHARP5",rank1:"SHARP_5NRANK",rank2:"SHARP_5NFSC"},{title:"\u8fd11\u5e74\u6700\u5927\u56de\u64a4\uff08%\uff09",key:"MAXRETRA1",rank1:"MAXRETRA_1NRANK",rank2:"MAXRETRA_1NFSC"},{title:"\u8fd13\u5e74\u6700\u5927\u56de\u64a4\uff08%\uff09",key:"MAXRETRA3",rank1:"MAXRETRA_3NRANK",rank2:"MAXRETRA_3NFSC"},{title:"\u8fd15\u5e74\u6700\u5927\u56de\u64a4\uff08%\uff09",key:"MAXRETRA5",rank1:"MAXRETRA_5NRANK",rank2:"MAXRETRA_5NFSC"},{title:"\u8fd11\u5e74\u6ce2\u52a8\u7387\uff08%\uff09",key:"STDDEV1",rank1:"STDDEV_1NRANK",rank2:"STDDEV_1NFSC"},{title:"\u8fd13\u5e74\u6ce2\u52a8\u7387\uff08%\uff09",key:"STDDEV3",rank1:"STDDEV_3NRANK",rank2:"STDDEV_3NFSC"},{title:"\u8fd15\u5e74\u6ce2\u52a8\u7387\uff08%\uff09",key:"STDDEV5",rank1:"STDDEV_5NRANK",rank2:"STDDEV_5NFSC"}],F=n(69),I=n(164),G=n.n(I),Z=n(129),_=n.n(Z),H=n(45),X=n.n(H);window.getJSONP=function(t,e,n){var a="cb"+window.getJSONP.counter++,r="getJSONP."+a;-1==t.indexOf("?")?(t+="?callback="+r,t+="?cb="+r):(t+="&callback="+r,t+="&cb="+r);var c=document.createElement("script");c.referrerPolicy="no-referrer",window.getJSONP[a]=function(t){try{e(t)}finally{delete window.getJSONP[a],c.parentNode.removeChild(c)}},c.src=t,n&&n.onload&&(c.onload=function(){n.onload()}),document.body.appendChild(c)},window.getJSONP.counter=0;var L=function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://push2.eastmoney.com/api/qt/ulist.np/get?fltt=2&invt=2&fields=f2,f3,f12,f14,f9&ut=267f9ad526dbe6b0262ab19316f5a25b&secids=",n=[],e.forEach((function(t){Number(t)>0&&6===t.length&&n.push(String(t).startsWith("6")?"1.".concat(t):"0.".concat(t))})),t.abrupt("return",_.a.get("https://push2.eastmoney.com/api/qt/ulist.np/get?fltt=2&invt=2&fields=f2,f3,f12,f14,f9&ut=267f9ad526dbe6b0262ab19316f5a25b&secids="+n.join(",")).then((function(t){var e,n;return(null===(e=t.data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.diff)||[]})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){var t=Object(f.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n="https://fundsuggest.eastmoney.com/FundSearch/api/FundSearchAPI.ashx?m=10&t=700&IsNeedBaseInfo=0&IsNeedZTInfo=0&key=".concat(e,"&_=").concat(Date.now());G()(n).then((function(t){return t.json()})).then((function(e){var n,a=(null===(n=e.Datas)||void 0===n?void 0:n.map((function(t){return{code:t.CODE,name:t.NAME}})))||[];t(a)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=Object(f.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){Promise.all([V(e),Y(e)]).then(function(){var e=Object(f.a)(d.a.mark((function e(n){var a,r,c,i,o,u,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(j.a)(n,2),i=c[0],o=c[1],u=(null===o||void 0===o||null===(a=o.JJCC)||void 0===a||null===(r=a.Datas)||void 0===r?void 0:r.InverstPosition.fundStocks)||[],e.next=4,L(u.map((function(t){return t.GPDM})));case 4:s=e.sent,t(Object(F.a)(Object(F.a)(Object(F.a)({},i),o),{},{key:i.FCODE,stockValue:s}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://fundmobapi.eastmoney.com/FundMNewApi/FundMNFInfo?pageIndex=1&pageSize=13&appType=ttjj&product=EFund&plat=Android&deviceid=6ed83de02a321t185jqqoja&Version=1&Fcodes=".concat(e),t.abrupt("return",_.a.get(n).then((function(t){var e=t.data;return null===e||void 0===e?void 0:e.Datas[0]})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://j5.dfcfw.com/sc/tfs/qt/v2.0.1/".concat(e,".json"),t.abrupt("return",_.a.get(n).then((function(t){return t.data})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://fund.eastmoney.com/pingzhongdata/".concat(e,".js?v=").concat(X()().format("yyyyMMddHHmmss")),t.abrupt("return",new Promise((function(t){window.getJSONP(n,(function(t){}),{onload:function(){var e=window.Data_grandTotal||[];t(e.reduce((function(t,e){var n=e.name;return t.concat(e.data.map((function(t){return{name:n,date:X()(t[0]).format("YYYY-MM-DD"),value:t[1]}})))}),[])||[])}})})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(f.a)(d.a.mark((function t(e,n,a){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://fund.eastmoney.com/pingzhongdata/".concat(e,".js?v=").concat(X()().format("yyyyMMddHHmmss")),t.abrupt("return",new Promise((function(t){window.getJSONP(r,(function(t){}),{onload:function(){var e=window.Data_grandTotal||[];t(e.reduce((function(t,e){var r=e.name;return r===n||0===a&&"\u6caa\u6df1300"===r?t.concat(e.data.map((function(t){return{name:r,date:X()(t[0]).format("YYYY-MM-DD"),value:t[1]}}))):t}),[])||[])}})})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),Q=function(){var t=Object(f.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e.map((function(t,e){return K(t.code,t.name,e)}))).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.flat()})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(t){var e=t.fundCode,n=Object(a.useState)([]),r=Object(j.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(""),u=Object(j.a)(o,2),s=u[0],l=u[1],b=Object(a.useState)("000300"),p=Object(j.a)(b,2),h=p[0],v=(p[1],function(){var t=Object(f.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e);case 2:n=t.sent,a=X()().subtract({days:Math.abs(Number(s))}).startOf("day"),i(s?n.filter((function(t){return X()(t.date).isAfter(a)})):n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());Object(a.useEffect)((function(){v()}),[s,h]);return Object(A.jsxs)("div",{className:"fund-line-chart",children:[Object(A.jsx)(C.a.Group,{value:s,onChange:function(t){l(t.target.value)},style:{marginBottom:16,marginLeft:12},children:J.map((function(t){return Object(A.jsx)(C.a.Button,{value:t.value,children:t.label},t.value)}))}),(null===c||void 0===c?void 0:c.length)?Object(A.jsx)(P,{data:c}):"\u6682\u65e0\u6570\u636e"]})};function U(t){return new Promise((function(e){navigator.clipboard?navigator.clipboard.writeText(t).then((function(){e(!0)}),(function(t){e(!1)})):e(function(t){var e=!0,n=document.createElement("textarea");n.value=t,n.style.top="0",n.style.left="0",n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{var a=document.execCommand("copy");e=Boolean(a)}catch(r){e=!1}return document.body.removeChild(n),e}(t))}))}function $(t){try{var e,n;window._hmt.push(["_trackEvent","fundlist","click",t]),null===(e=(n=window).logEvent)||void 0===e||e.call(n,"select_content",{value:t})}catch(a){}}var tt=function(t){var e=t.stockValue||[];return[{title:"\u80a1\u7968\u4ee3\u7801",key:"code",dataIndex:"GPDM"},{title:"\u80a1\u7968\u540d\u79f0",key:"name",dataIndex:"GPJC"},{title:"\u6da8\u8dcc\u5e45",key:"value",render:function(t){var n,a=null===(n=e.find((function(e){return e.f12===t.GPDM})))||void 0===n?void 0:n.f3;return Object(A.jsx)(D,{value:a?a+"%":"-"})}},{title:"\u6301\u4ed3\u5360\u6bd4",key:"percent",render:function(t){return"".concat(t.JZBL,"%")}},{title:"\u884c\u4e1a",key:"industry",dataIndex:"INDEXNAME"},{title:"\u8f83\u4e0a\u671f\u6301\u4ed3\u53d8\u5316",key:"change",render:function(t){return"".concat(t.PCTNVCHGTYPE," ").concat(t.PCTNVCHG,"%")}}]},et=[{title:"\u65f6\u95f4\u533a\u95f4",key:"title",render:function(t){return T[t.title]}},{title:"\u6536\u76ca\u7387",key:"syl",render:function(t){return Object(A.jsx)(D,{value:t.syl+"%"})}},{title:"\u540c\u7c7b\u6392\u884c",key:"rank",render:function(t){return"".concat(t.rank||"-","/").concat(t.sc||"-")}}],nt=[{title:"\u540d\u79f0",key:"title",dataIndex:"title"},{title:"\u6570\u636e",key:"value",dataIndex:"value"},{title:"\u6392\u540d",key:"rank",dataIndex:"rank"}],at=n(141),rt=h.a.Option,ct=function(){var t=function(t,n,a,r){var c=e(t);if(c>3){var i=c%8;return i>=5&&(i=4),Math.round(n/Math.pow(10,i+a-r))/Math.pow(10,r)+"\u4e07"}return Math.round(n/Math.pow(10,a-r))/Math.pow(10,r)},e=function(t){for(var e=-1;t>=1;)e++,t/=10;return e};return function(n,a){a=null==a?2:a;var r=Math.floor(n),c=e(r),i=[];if(c>3){var o=Math.floor(c/8);if(o>=1){var u=Math.round(r/Math.pow(10,8*o));i.push(t(u,n,8*o,a));for(var s=0;s<o;s++)i.push("\u4ebf");return i.join("")}return t(r,n,0,a)}return n}}(),it=function(t){var e,n;return Object(at.flatten)(null===(e=t.JJBQ)||void 0===e||null===(n=e.Datas)||void 0===n?void 0:n.map((function(t){return Number(t.FEATYPE)<3?t.TAGLIST.map((function(t){return"--"!==t.FEATAG?t.FEATAG:t.FEANAME})):""})).filter((function(t){return Boolean(t)})))},ot=function(t){return[{label:"\u6807\u7b7e",hide:!it(t).length,rendered:function(){return it(t).map((function(t){return Object(A.jsx)(v.a,{color:"processing",children:t},t)}))}},{label:"\u57fa\u91d1\u7c7b\u578b",rendered:function(){return t.JJXQ.Datas.FTYPE}},{label:"\u4e1a\u7ee9\u6bd4\u8f83\u57fa\u51c6",rendered:function(){return t.JJXQ.Datas.BENCH}},{label:"\u57fa\u91d1\u89c4\u6a21\uff08\u5143\uff09",rendered:function(){return ct(t.JJXQ.Datas.ENDNAV,2)}},{label:"\u7279\u70b9",rendered:function(){return t.JJXQ.Datas.COMMENTS}},{label:"\u9636\u6bb5\u6da8\u5e45",hide:!t.JDZF.Datas.length,rendered:function(){var e=t.JDZF.Datas.filter((function(t){return Boolean(T[t.title])}));return Object(A.jsx)(O.a,{pagination:!1,className:"fund-detail-jd",columns:et,dataSource:e})}},{label:"\u884c\u60c5\u6570\u636e",rendered:function(){var e=t.TSSJ.Datas,n=R.map((function(t){return{key:t.title,title:t.title,value:e[t.key]||"-",rank:"".concat(e[t.rank1]||"-","/").concat(e[t.rank2]||"-")}}));return Object(A.jsx)(O.a,{pagination:!1,className:"fund-detail-jd",columns:nt,dataSource:n})}}]};var ut=Object(p.b)()((function(t){var e=t.dispatch,n=Object(a.useRef)(!0),r=Object(b.g)().codes,c=void 0===r?[]:r,i=Object(b.f)(),o=function(t,e){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(t);return n?JSON.parse(n):e}catch(a){return e}})),r=Object(j.a)(n,2),c=r[0],i=r[1];return[c,function(e){try{var n=e instanceof Function?e(c):e;i(n),window.localStorage.setItem(t,JSON.stringify(n))}catch(a){}}]}("_storageCodes",[]),l=Object(j.a)(o,2),p=l[0],v=l[1],C=Object(a.useState)(!1),M=Object(j.a)(C,2),P=M[0],T=M[1],J=Object(a.useState)([]),R=Object(j.a)(J,2),F=R[0],I=R[1],G=Object(a.useState)([]),Z=Object(j.a)(G,2),_=Z[0],H=Z[1],X=Object(a.useState)(_),L=Object(j.a)(X,2),V=L[0],Y=L[1],z=Object(a.useState)([]),K=Object(j.a)(z,2),Q=K[0],et=K[1],nt=Object(a.useState)([]),ct=Object(j.a)(nt,2),it=ct[0],ut=ct[1],st=function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(!0),t.next=3,Promise.all(e.map((function(t){return q(t)})));case 3:n=t.sent,H(n),Y(n),T(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){var t;c&&c.length&&(null===(t=c.split(","))||void 0===t?void 0:t.length)?(st(c.split(",")),$("init fund width params: ".concat(c))):p.length&&(st(p),$("init fund width storage: ".concat(p)))}),[]),Object(a.useLayoutEffect)((function(){n.current?n.current=!1:v(_.map((function(t){return t.key})))}),[_.length]);var lt=Object(at.debounce)(function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:n=t.sent,I(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),300),dt=function(){var t=Object(f.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_.some((function(t){return t.FCODE===e}))){t.next=8;break}return t.next=3,q(e);case 3:n=t.sent,H([n].concat(_)),Y([n].concat(V)),t.next=9;break;case 8:m.b.warning("\u57fa\u91d1 ".concat(e," \u5df2\u5728\u5217\u8868\u4e2d"));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ft=function(){var t=Object(f.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="https://".concat(window.location.host,"/x-fund/#/").concat(_.map((function(t){return t.key})).join(",")),t.next=3,U(e);case 3:t.sent?m.b.success("\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f"):m.b.error("\u7531\u4e8e\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\uff0c\u590d\u5236\u5931\u8d25\uff0c\u8bf7\u624b\u52a8\u590d\u5236 "+e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),jt=[{title:"\u57fa\u91d1\u4ee3\u7801",dataIndex:"FCODE",key:"code"},{title:"\u57fa\u91d1\u540d\u79f0",dataIndex:"SHORTNAME",key:"name"},{title:"\u51c0\u503c",key:"value",render:function(t){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{children:t.NAV}),Object(A.jsx)("div",{children:Object(A.jsx)(D,{value:t.NAVCHGRT+"%"})}),Object(A.jsxs)("div",{children:["\u65e5\u671f\uff1a",t.PDATE]})]})}},{title:"\u4f30\u503c",key:"gz",render:function(t){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{children:t.GSZ}),Object(A.jsx)("div",{children:Object(A.jsx)(D,{value:t.GSZZL+"%"})}),Object(A.jsxs)("div",{children:["\u66f4\u65b0\u65f6\u95f4\uff1a",t.GZTIME]})]})},sorter:!0},{title:"Operation",key:"operation",render:function(t,e){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("a",{onClick:function(){return function(t){Q.includes(t.key)?et(Q.filter((function(e){return e!==t.key}))):et([t.key].concat(Q))}(e)},style:{marginRight:8},children:Q.includes(e.key)?"\u6536\u8d77":"\u67e5\u770b\u66f4\u591a"}),Object(A.jsx)(k.a,{title:"Sure to delete?",onConfirm:function(){return function(t){var e=Object(s.a)(_);H(e.filter((function(e){return e.FCODE!==t}))),Y(Object(s.a)(V).filter((function(e){return e.FCODE!==t})))}(e.FCODE)},children:Object(A.jsx)("a",{children:"\u5220\u9664"})})]})}}],bt={onChange:function(t,n){ut(n),e({type:"UPDATE",funds:n})}};return Object(A.jsxs)("div",{className:"fund-list",children:[Object(A.jsxs)(x.a,{children:[Object(A.jsxs)(y.a,{span:8,children:[Object(A.jsx)(h.a,{showSearch:!0,style:{width:200,marginBottom:16},placeholder:"\u8f93\u5165\u57fa\u91d1\u540d\u79f0\u6216\u4ee3\u7801\u641c\u7d22",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:lt,onChange:dt,notFoundContent:null,children:F.map((function(t){return Object(A.jsx)(rt,{value:t.code,children:t.name},t.code)}))}),Object(A.jsx)(N.a,{title:"\u9009\u4e2d2\u652f\u4ee5\u4e0a\u53ef\u8fdb\u884c\u5bf9\u6bd4\u5206\u6790",children:Object(A.jsx)(S.a,{disabled:it.length<2,onClick:function(){return $("similarity: ".concat(it.map((function(t){return t.key})).join(","))),void i.push("/similarity")},style:{marginLeft:8},children:"\u5206\u6790\u6301\u4ed3\u76f8\u4f3c\u5ea6"})})]}),Object(A.jsxs)(y.a,{offset:8,span:7,style:{textAlign:"right"},children:[Object(A.jsx)(N.a,{title:"\u5237\u65b0\u6570\u636e",children:Object(A.jsx)(w.a,{style:{marginRight:8},onClick:function(){return st(_.map((function(t){return t.key}))),void $("refresh fund list: ".concat(_.map((function(t){return t.key})).join(",")))}})}),Object(A.jsx)(N.a,{title:"\u5982\u679c\u4f60\u60f3\u8de8\u8bbe\u5907/\u6d4f\u89c8\u5668\u6765\u67e5\u8be2\u5df2\u9009\u7684\u57fa\u91d1\uff0c\u8bf7\u70b9\u51fb\u590d\u5236\u7f51\u5740\u5230\u7c98\u8d34\u677f\u8fdb\u884c\u8bbf\u95ee",children:Object(A.jsx)(E.a,{onClick:function(){return ft()}})})]})]}),Object(A.jsx)(O.a,{pagination:!1,loading:P,className:"fund-list-nested",expandIconColumnIndex:-1,rowSelection:bt,expandedRowKeys:Q,columns:jt,expandable:{expandedRowRender:function(t){var e,n,a,r,c,i=(null===t||void 0===t||null===(e=t.JJCC)||void 0===e||null===(n=e.Datas)||void 0===n?void 0:n.SectorAllocation)||{},o=(null===(a=Object.values(i))||void 0===a?void 0:a[0])||[];return o=o.filter((function(t){return Number(t.ZJZBL)>0})),Object(A.jsxs)(x.a,{gutter:16,children:[Object(A.jsx)(y.a,{span:8,className:"table-nested-col",children:Object(A.jsx)(u.a,{children:Object(A.jsx)(g.b,{itemLayout:"horizontal",dataSource:ot(t),renderItem:function(t){return Object(A.jsx)(g.b.Item,{children:t.hide?null:Object(A.jsx)(g.b.Item.Meta,{title:t.label,description:t.rendered()})})}})})}),Object(A.jsxs)(y.a,{span:16,className:"table-nested-col",children:[Object(A.jsx)(u.a,{title:"\u7d2f\u79ef\u6536\u76ca\u7387\u8d70\u52bf",children:Object(A.jsx)(W,{fundCode:t.FCODE})}),Object(A.jsx)(u.a,{title:"\u57fa\u91d1\u6301\u4ed3",children:Object(A.jsx)(O.a,{pagination:!1,className:"fund-stock-list",columns:tt(t),dataSource:(null===(r=t.JJCC)||void 0===r||null===(c=r.Datas)||void 0===c?void 0:c.InverstPosition.fundStocks)||[]})}),Object(A.jsx)(u.a,{title:"\u6301\u4ed3\u884c\u4e1a\u5360\u6bd4",style:{marginTop:16},children:Object(A.jsx)(O.a,{pagination:!1,className:"fund-industry-list",columns:[{title:"\u884c\u4e1a\u540d\u79f0",key:"name",dataIndex:"HYMC"},{title:"\u5360\u6bd4",key:"percent",render:function(t){return"".concat(t.ZJZBL,"%")}},{title:"\u6570\u636e\u65e5\u671f",key:"date",dataIndex:"FSRQ"}],dataSource:o})})]})]})}},dataSource:V,onChange:function(t,e,n){var a=n.order;if("gz"===n.columnKey){var r=Object(s.a)(_);a&&(r=V.filter((function(t){return!isNaN(t.GSZZL)})).sort((function(t,e){return"ascend"===a?t.GSZZL-e.GSZZL:e.GSZZL-t.GSZZL})),r="ascend"===a?V.filter((function(t){return isNaN(t.GSZZL)})).concat(r):r.concat(V.filter((function(t){return isNaN(t.GSZZL)})))),Y(r)}}})]})})),st=n(171),lt=function(t){var e=t.data,n=t.formatter;return Object(A.jsx)("div",{className:"fund-radar-chart",children:Object(A.jsxs)(M.Chart,{height:320,data:e,autoFit:!0,scale:{value:{nice:!0}},children:[Object(A.jsx)(M.Tooltip,{useHtml:!0,children:function(t,e){var a,r;return n(t,null===(a=e[0])||void 0===a?void 0:a.value,(null===(r=e[0])||void 0===r?void 0:r.data)||{})}}),Object(A.jsx)(M.Coordinate,{type:"polar",radius:.8}),Object(A.jsx)(M.Line,{position:"name*value",size:"2"})]})})},dt=function(t){var e,n=[],a=Object(st.a)(t.entries());try{for(a.s();!(e=a.n()).done;){var r=Object(j.a)(e.value,2),c=r[0],i=r[1];n.push(Object(F.a)({key:c},i))}}catch(o){a.e(o)}finally{a.f()}return n.filter((function(t){return t.freq>1})).sort((function(t,e){return e.freq-t.freq}))},ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stock";return[{title:"stock"===t?"\u80a1\u7968\u540d\u79f0":"\u884c\u4e1a\u540d\u79f0",key:"name",dataIndex:"key"},{title:"\u91cd\u590d\u6b21\u6570",key:"freq",dataIndex:"freq"},{title:"\u8be6\u60c5",key:"detail",render:function(t){return t.list.map((function(t){return Object(A.jsxs)("div",{children:[t.fundName," : ",t.GPJC,"(",t.GPDM,") \u6301\u4ed3\u6bd4\u4f8b\uff1a ",t.JZBL+"%"]},t.fundName+t.GPDM)}))}}]};var jt=Object(p.b)((function(t){return t}))((function(t){var e=t.funds,n=void 0===e?[]:e,r=Object(a.useState)(!1),c=Object(j.a)(r,2),i=c[0],o=c[1],s=Object(a.useState)([]),l=Object(j.a)(s,2),b=l[0],p=l[1],h=Object(a.useState)([]),v=Object(j.a)(h,2),m=v[0],g=v[1],k=Object(a.useState)([]),N=Object(j.a)(k,2),S=N[0],w=N[1],E=Object(a.useState)(""),D=Object(j.a)(E,2),M=D[0],T=D[1],R=Object(a.useState)([]),I=Object(j.a)(R,2),G=I[0],Z=I[1],_=function(){var t=Object(f.a)(d.a.mark((function t(){var e,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(n.map((function(t){return{code:t.FCODE,name:t.SHORTNAME}})));case 2:e=t.sent,a=X()().subtract({days:Math.abs(Number(M))}).startOf("day"),Z(M?e.filter((function(t){return X()(t.date).isAfter(a)})):e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){_()}),[M]),Object(a.useEffect)((function(){o(!0);try{var t=n.map((function(t){var e,n,a;return{code:t.FCODE,name:t.SHORTNAME,stocks:(null===t||void 0===t||null===(e=t.JJCC)||void 0===e||null===(n=e.Datas)||void 0===n||null===(a=n.InverstPosition)||void 0===a?void 0:a.fundStocks)||[]}}));_();var e=function(t){var e=new Map,n=new Map;return t.forEach((function(t){var a;(null===(a=t.stocks)||void 0===a?void 0:a.length)&&t.stocks.forEach((function(a){var r=Object(F.a)({fundName:t.name},a);e.has(r.GPJC)?e.set(r.GPJC,{freq:e.get(r.GPJC).freq+1,list:[r].concat(e.get(r.GPJC).list)}):e.set(r.GPJC,{freq:1,list:[r]}),r.INDEXNAME&&"--"!==r.INDEXNAME&&!n.has(r.INDEXNAME)?n.set(r.INDEXNAME,{freq:1,list:[r]}):r.INDEXNAME&&"--"!==r.INDEXNAME&&n.set(r.INDEXNAME,{freq:n.get(r.INDEXNAME).freq+1,list:[r].concat(n.get(r.INDEXNAME).list)})}))})),[dt(e),dt(n)]}(t),a=Object(j.a)(e,2),r=a[0],c=a[1];p(r),g(c),w(c.map((function(t){return{name:t.key,value:t.freq,list:t.list}})))}catch(i){}o(!1)}),[]),Object(A.jsxs)("div",{className:"fund-similarity",children:[Object(A.jsxs)(u.a,{title:"\u96c6\u4e2d\u5ea6\u5206\u6790",children:["\u5206\u6790\u57fa\u91d1\uff1a",n.map((function(t){return t.SHORTNAME})).join(" | ")]}),Object(A.jsx)(u.a,{title:"\u53ef\u89c6\u5316\u7ed3\u679c",style:{marginTop:16},children:Object(A.jsxs)(x.a,{children:[Object(A.jsx)(y.a,{span:6,children:Object(A.jsx)(lt,{data:S,formatter:function(t,e,n){var a=n.list.map((function(t){return Object(A.jsxs)("div",{style:{marginBottom:8},children:[t.fundName," : ",t.GPJC,"(",t.GPDM,") \u6301\u4ed3\u6bd4\u4f8b\uff1a ",t.JZBL+"%"]},t.fundName+t.GPDM)}));return Object(A.jsxs)("div",{style:{padding:"8px 8px 0 8px"},children:[Object(A.jsxs)("div",{style:{marginBottom:10,fontSize:13,fontWeight:500},children:[t,Object(A.jsxs)("span",{children:[" ",e,"\u6b21"]})]}),a]})}})}),Object(A.jsxs)(y.a,{span:8,offset:2,children:[Object(A.jsx)(C.a.Group,{value:M,onChange:function(t){T(t.target.value)},style:{marginBottom:16},children:J.map((function(t){return Object(A.jsx)(C.a.Button,{value:t.value,children:t.label},t.value)}))}),Object(A.jsx)(P,{data:G})]})]})}),Object(A.jsx)(u.a,{title:"\u91cd\u590d\u6301\u4ed3",style:{marginTop:16},children:Object(A.jsx)(O.a,{pagination:!1,loading:i,className:"fund-list-nested",columns:ft("stock"),dataSource:b,locale:{emptyText:"\u65e0\u91cd\u590d\u6301\u4ed3"}})}),Object(A.jsx)(u.a,{title:"\u884c\u4e1a\u96c6\u4e2d\u5ea6\u5206\u6790",style:{marginTop:16},children:Object(A.jsx)(O.a,{pagination:!1,loading:i,className:"fund-list-nested",columns:ft("industry"),dataSource:m,locale:{emptyText:"\u65e0\u91cd\u590d\u884c\u4e1a"}})})]})})),bt=n(139),pt=n(119),ht=(n(276),Object(pt.a)({funds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE":return e.funds;default:return t}}})),vt=Object(pt.b)(ht),Ot=o.a.Content;var mt=function(){return console.log("%c+","font-size: 1px;\n  padding: 122px 217px;\n  background-image: url(https://i01piccdn.sogoucdn.com/982a9917ddc1a5b2);\n  background-size: contain;\n  background-repeat: no-repeat;\n  color: transparent;"),console.log("Joy, you are the apple of my eyes."),Object(A.jsx)(p.a,{store:vt,children:Object(A.jsx)(bt.a,{children:Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(o.a,{style:{minHeight:"100vh"},children:Object(A.jsx)(Ot,{children:Object(A.jsx)(u.a,{title:"X-FUND",bordered:!1,extra:Object(A.jsx)("span",{style:{color:"#999",fontWeight:400},children:"\u4e2a\u4eba\u57fa\u91d1\u5de5\u5177\uff0c\u6570\u636e\u6765\u6e90\u5929\u5929\u57fa\u91d1\u3001\u4e1c\u65b9\u8d22\u5bcc\u7f51"}),children:Object(A.jsxs)(b.c,{children:[Object(A.jsx)(b.a,{path:"/similarity",children:Object(A.jsx)(jt,{})}),Object(A.jsx)(b.a,{path:"/:codes",children:Object(A.jsx)(ut,{})}),Object(A.jsx)(b.a,{path:"/",children:Object(A.jsx)(ut,{})})]})})})})})})})},xt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,290)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))};i.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(mt,{})}),document.getElementById("root")),xt()}},[[277,1,2]]]);
//# sourceMappingURL=main.1e41a2ef.chunk.js.map